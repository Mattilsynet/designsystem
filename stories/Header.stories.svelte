<script lang="ts">
  import {Meta, Story} from '@storybook/addon-svelte-csf'
  import Dropdown from '../src/svelte/Dropdown.svelte'
  import MenuItems from '../src/svelte/content/MenuItems.svelte'

  const drinkIcon =
    '<svg width="60" height="50" viewBox="0 0 60 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M47.5837 4C47.9311 4 48.2619 4.15366 48.4857 4.41919C48.7103 4.68628 48.8051 5.03679 48.7474 5.37993L41.9575 45.0191C41.8611 45.5858 41.3688 46 40.7945 46H19.1464C18.5713 46 18.0805 45.5873 17.9819 45.0206L11.1168 5.38265C11.0584 5.03858 11.1533 4.68698 11.3771 4.42067C11.6017 4.15397 11.9324 4 12.2799 4H47.5837ZM29.5035 20.2948C36.3769 23.7314 41.4226 21.5602 43.8443 20.0163L46.1824 6.36134H13.6833L15.7681 18.3978C18.4749 17.8417 23.7157 17.4005 29.5035 20.2948ZM16.6589 21.2945L20.3648 43.5294H39.5119L43.2177 23.7651C38.2766 25.6179 34.5707 25.6179 28.3942 22.5298C22.6363 19.6509 19.1535 20.6087 16.8822 21.2333C16.8064 21.2541 16.732 21.2746 16.6589 21.2945Z" fill="#F9F6F1"/></svg>'
  const fishIcon =
    '<svg width="60" height="50" viewBox="0 0 60 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M57.5313 27.5678C57.8099 27.9074 57.838 28.3793 57.569 28.7266C55.0053 32.0366 40.9991 47.6586 15.4295 31.8358L3.22077 35.9471C2.38615 36.2282 1.62203 35.3712 1.99656 34.5741L6.49018 25.011L2.01356 14.2561C1.66897 13.4282 2.50407 12.6003 3.32895 12.9519L15.4294 18.1107C41.0809 -0.163448 55.2047 17.6844 57.5137 21.0031C57.7307 21.315 57.7235 21.7156 57.5204 22.0367L55.5499 25.152L57.5313 27.5678ZM52.9107 25.152L55.2503 21.5125C55.2503 21.5125 40.5114 1.58796 15.9371 20.5276L5.76605 16.6392L8.79354 24.8064L5.48405 33.0448L15.4111 28.9119C40.4084 46.5838 55.2503 28.1392 55.2503 28.1392L52.9107 25.152ZM46.8131 22.372C46.8131 20.9668 45.6745 19.8366 44.2721 19.8366C42.874 19.8366 41.7452 20.9675 41.7452 22.372C41.7452 23.7595 42.874 24.9052 44.2721 24.9052C45.6744 24.9052 46.8131 23.7595 46.8131 22.372Z" fill="#F9F6F1"/></svg>'
  const animalIcon =
    '<svg width="60" height="50" viewBox="0 0 60 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M30.0266 40.7415C26.1636 40.7415 23.0209 37.6084 23.0209 33.7565C23.0209 29.9046 26.1636 26.771 30.0266 26.771C33.8896 26.771 37.0323 29.9046 37.0323 33.7565C37.0323 37.6084 33.8896 40.7415 30.0266 40.7415ZM30.0266 29.3516C27.5913 29.3516 25.6096 31.3276 25.6096 33.7559C25.6096 36.1842 27.5913 38.1595 30.0266 38.1595C32.4626 38.1595 34.4436 36.1836 34.4436 33.7559C34.4436 31.3276 32.4626 29.3516 30.0266 29.3516ZM31.9682 32.3498C31.253 32.3498 30.6738 32.9273 30.6738 33.6404C30.6738 34.3535 31.253 34.931 31.9682 34.931C32.6833 34.931 33.2625 34.3535 33.2625 33.6404C33.2625 32.9273 32.6833 32.3498 31.9682 32.3498ZM28.0851 32.3498C27.37 32.3498 26.7907 32.9273 26.7907 33.6404C26.7907 34.3535 27.37 34.931 28.0851 34.931C28.8002 34.931 29.3795 34.3535 29.3795 33.6404C29.3795 32.9273 28.8002 32.3498 28.0851 32.3498ZM49.9067 2.57737C48.5269 1.73716 46.4339 1.81783 44.3105 2.79419C42.1612 3.78088 40.2423 5.52647 38.9059 7.70893C38.6872 8.06579 38.484 8.4304 38.2892 8.79759C35.7826 7.60956 32.9817 6.9423 30.0273 6.94101H30.0221H30.0169C27.0626 6.94294 24.2616 7.6102 21.755 8.79759C21.5596 8.43104 21.357 8.06644 21.1383 7.70893C19.8025 5.52647 17.883 3.78088 15.7337 2.79419C13.6097 1.81783 11.5167 1.73716 10.1375 2.57737C7.72745 4.04417 7.6802 8.28714 10.0431 12.9328L12.6797 17.7107C11.4054 20.281 10.6857 23.1714 10.6857 26.227C10.6857 34.0534 15.3286 40.9835 22.5504 44.0016C24.2234 46.5106 26.9823 47.9961 30.0182 47.9994V48H30.0234H30.0286V47.9994C33.0645 47.9961 35.8228 46.5106 37.4964 44.0016C44.7182 40.9835 49.3611 34.0534 49.3611 26.227C49.3611 23.1714 48.6414 20.281 47.3671 17.7107L50.0037 12.9328C52.364 8.28714 52.3168 4.04417 49.9067 2.57737ZM12.3302 11.7273C10.465 8.05805 10.6469 5.29093 11.485 4.78048C11.9962 4.47073 13.1728 4.45976 14.6497 5.13863C16.3369 5.91366 17.8564 7.30432 18.9275 9.05442C19.1301 9.38483 19.3171 9.72297 19.4957 10.0618C17.428 11.406 15.634 13.1322 14.2135 15.1404L12.3302 11.7273ZM36.1476 41.7617C35.8817 41.8656 35.6577 42.0553 35.5115 42.2999C34.3407 44.252 32.2892 45.4174 30.0215 45.4187C27.7537 45.4168 25.7022 44.2514 24.5314 42.2999C24.3845 42.0553 24.1613 41.8656 23.8953 41.7617C17.4422 39.2263 13.2731 33.1293 13.2731 26.2276C13.2731 17.0176 20.7862 9.52486 30.0215 9.52163C39.2573 9.52486 46.7698 17.0176 46.7698 26.2276C46.7698 33.1293 42.6007 39.2263 36.1476 41.7617ZM47.7127 11.7273L45.8288 15.1404C44.4082 13.1315 42.6143 11.4053 40.5465 10.0618C40.7251 9.72297 40.9128 9.38483 41.1147 9.05442C42.1865 7.30432 43.7054 5.91366 45.3926 5.13863C46.8695 4.4604 48.0467 4.47073 48.5573 4.78048C49.3967 5.29093 49.5779 8.05805 47.7127 11.7273ZM24.5354 20.9412C24.5354 21.6884 23.9296 22.2941 23.1824 22.2941C22.4352 22.2941 21.8295 21.6884 21.8295 20.9412C21.8295 20.194 22.4352 19.5882 23.1824 19.5882C23.9296 19.5882 24.5354 20.194 24.5354 20.9412ZM36.7119 22.2941C37.4591 22.2941 38.0648 21.6884 38.0648 20.9412C38.0648 20.194 37.4591 19.5882 36.7119 19.5882C35.9647 19.5882 35.3589 20.194 35.3589 20.9412C35.3589 21.6884 35.9647 22.2941 36.7119 22.2941Z" fill="#F9F6F1"/></svg>'
  const animalIconSmall =
    '<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="12" fill="#F9F6F1"/><path d="m12.94 16.583-.084 1.765a.162.162 0 0 0 .25.144l1.486-.955a.162.162 0 0 0 .052-.055l4.543-7.87-1.682-.97-4.543 7.868a.163.163 0 0 0-.022.073ZM19.511 9.053l-1.682-.971.89-1.542a.162.162 0 0 1 .221-.06l1.403.81a.162.162 0 0 1 .059.221l-.89 1.542Z" fill="#075B7A"/><path fill="#055B7A" d="M5.52 7.02h9.6v1.8h-9.6zM5.52 10.199h8.04v1.8H5.52zM5.52 13.441H9.6v1.8H5.52z"/></svg>'
</script>

<Meta
  title="Components/Header"
  parameters={{layout: 'fullscreen'}}
  args={{
    items: [
      {title: 'Test', url: 'http://'},
      {title: 'Another test', url: 'http://'},
      {title: 'Another test with super super longer text', url: 'http://'}
    ],
    menu: {
      title: 'Meny',
      items: [
        {
          title: 'Dyr',
          url: '/dyr',
          iconResource: animalIcon,
          children: [
            {title: 'Dyresykdommer', url: '/dyr/dyresykdommer'},
            {title: 'Produksjonsdyr', url: '/dyr/produksjonsdyr', isActive: true},
            {title: 'Reise med kjæeledyr', url: '/dyr/reise'},
            {title: 'Dyresykdommer', url: '/dyr/dyresykdommer'},
            {title: 'Produksjonsdyr', url: '/dyr/produksjonsdyr'},
            {title: 'Reise med kjæeledyr', url: '/dyr/reise'},
            {title: 'Dyresykdommer', url: '/dyr/dyresykdommer'},
            {title: 'Produksjonsdyr', url: '/dyr/produksjonsdyr'},
            {title: 'Reise med kjæeledyr', url: '/dyr/reise'}
          ]
        },
        {
          title: 'Mat',
          url: '/mat',
          iconResource: drinkIcon,
          children: [
            {title: 'Produksjon av mat', url: '/mat/produksjon'},
            {title: 'Matservering', url: '/mat/servering'}
          ]
        },
        {
          title: 'Fisk og akvakultur',
          url: '/fisk',
          iconResource: fishIcon,
          children: [{title: 'Fiskesykdommer', url: '/fisk/fiskesykdommer'}]
        },
        {title: 'Planter og dyrking', url: '/planter', iconResource: animalIcon, children: []},
        {title: 'Drikkevannforskrift', url: '/drikkevann', iconResource: fishIcon, children: []},
        {title: 'Kosmetikk', url: '/kosmetikk', iconResource: drinkIcon, children: []}
      ],
      itemsRight: [
        {
          title: 'Om mattilsynet',
          url: '/om-oss'
        },
        {
          title: 'Skjemaer',
          url: '/skjemaer',
          iconResource: animalIcon
        }
      ],
      itemsBottom: [
        {
          title: 'Skjemaer',
          url: '/skjemaer',
          iconResource: animalIconSmall
        },
        {
          title: 'Varsle oss/bekymringsmelding',
          url: '/varsle',
          iconResource: animalIcon
        },
        {
          title: 'Rapporter',
          url: '/reports'
        },
        {
          title: 'Veiledere',
          url: '/guides'
        },
        {
          title: 'Varsle oss/bekymringsmelding',
          url: '/varsle'
        },
        {
          title: 'Rapporter',
          url: '/reports'
        },
        {
          title: 'Veiledere',
          url: '/guides'
        }
      ]
    },
    disableCss: false
  }}
  argTypes={{
    items: {control: 'array'},
    disableCss: {control: 'boolean'}
  }} />

<Story name="Normal" let:title let:disableCss let:args>
  <header class="header header--regular">
    <a href="https://mattilsynet.no/">
      <svg
        width="184"
        height="36"
        viewBox="0 0 184 36"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <title>Gå til forsiden</title>
        <path
          d="M14.1539 22.9053H11.2772L3.84106 5.97346L4.0039 26.4195H0.312988V0.116516H4.87235L12.7427 18.1665L20.5587 0.116516H25.1181V26.4195H21.4272L21.6443 5.97346L14.1539 22.9053Z"
          fill="#E23128" />
        <path
          d="M37.4935 11.7772C35.3766 11.7772 32.6627 12.3629 31.36 12.8421V9.48763C32.7713 8.84869 35.8108 8.42273 37.4935 8.42273C42.9755 8.42273 44.4411 10.872 44.4411 14.5459V26.4195H41.9985L41.6729 25.5143C40.2074 26.3663 38.2534 26.8987 36.6793 26.8987C31.74 26.8987 30.1659 23.9702 30.1659 20.882C30.1659 18.1133 31.4686 15.664 36.7878 15.2381L40.8044 14.9186V14.5459C40.7501 12.6823 40.0445 11.7772 37.4935 11.7772ZM36.6793 18.2198C34.4539 18.4328 33.8026 19.6574 33.8026 20.882C33.8026 22.0534 34.0739 23.5443 36.6793 23.5443C38.1991 23.5443 39.7731 23.0118 40.7501 22.4794V17.9003L36.6793 18.2198Z"
          fill="#E23128" />
        <path
          d="M59.3675 26.6857C58.4991 26.8987 57.4135 26.8987 57.1421 26.8987C54.2111 26.8987 51.2258 25.4078 51.2258 22.0002V11.9901H47.9148V9.80707L51.2258 8.90191V4.48258L54.8624 3.52417V8.90191H60.1274V11.9901H54.8624V21.6807C54.8624 23.1715 55.8394 23.5975 57.4135 23.5975C58.0648 23.5975 58.9876 23.5443 59.3675 23.4378V26.6857Z"
          fill="#E23128" />
        <path
          d="M73.7512 26.6857C73.2627 26.739 72.8285 26.7922 72.34 26.7922C69.3547 26.9519 66.5322 25.6208 66.4237 22.2132V10.8187H62.8413V9.75384L66.4237 8.74219V3.95015L68.9205 3.25797V8.84868H74.4568V10.7655H68.9205V22.0534C69.0833 24.1832 70.2231 24.7689 72.34 24.7689C72.8285 24.7689 73.2627 24.7157 73.7512 24.7157V26.6857Z"
          fill="#E23128" />
        <path
          d="M78.7991 2.40604C78.7991 3.47094 79.6676 4.32286 80.7531 4.32286C81.8387 4.32286 82.7072 3.47094 82.7072 2.40604C82.7072 1.34115 81.8387 0.489227 80.7531 0.489227C79.6133 0.489227 78.7991 1.2879 78.7991 2.40604ZM83.467 26.7922V24.7689C82.3815 24.7689 81.9473 24.3962 81.9473 23.1716V8.90192H79.5047V22.9053C79.5047 25.7273 80.8617 26.7922 83.467 26.7922Z"
          fill="#E23128" />
        <path
          d="M89.1662 22.9053V0.116516H91.6087V23.1716C91.6087 24.3962 91.9886 24.7689 93.1285 24.7689V26.7922C90.5231 26.7922 89.1662 25.7273 89.1662 22.9053Z"
          fill="#E23128" />
        <path
          d="M104.201 16.3562C109.249 16.8354 110.497 18.486 110.497 21.3612C110.497 24.0767 108.761 26.739 103.333 26.739C101.596 26.739 99.1533 26.313 98.0135 25.887V23.7572C99.099 24.13 100.836 24.5559 103.387 24.5559C107.078 24.5559 108.109 23.0118 108.109 21.3612C108.109 19.7639 107.621 18.6457 104.093 18.3263C98.9362 17.8471 97.8506 16.09 97.8506 13.6407C97.8506 11.1382 99.479 8.47595 104.527 8.47595C106.209 8.47595 108.109 8.68893 109.683 9.32787V11.4577C108.272 10.9785 106.915 10.659 104.473 10.659C100.944 10.659 100.185 11.9369 100.185 13.694C100.13 15.2913 100.782 16.09 104.201 16.3562Z"
          fill="#E23128" />
        <path
          d="M129.006 27.8039C129.006 32.1699 128.138 35.5776 121.679 35.5776C118.911 35.5776 117.065 35.2049 115.6 34.6192V32.3297C117.228 33.1283 119.291 33.5543 121.679 33.5543C126.455 33.5543 126.51 30.3064 126.51 27.8571L126.455 25.3546C124.935 26.313 123.307 26.7922 121.625 26.7922C117.391 26.7922 115.6 24.8754 115.6 21.521L115.545 8.90192H118.042L118.096 21.7339C118.096 24.0235 119.399 24.7157 121.625 24.7157C123.958 24.7157 125.153 24.3429 126.455 23.5975V8.90192H128.952L129.006 27.8039Z"
          fill="#E23128" />
        <path
          d="M145.615 13.694C145.615 11.4044 144.259 10.7123 142.033 10.7123C139.699 10.7123 138.505 11.085 137.202 11.8304V26.4195H134.706V8.90193H136.117L136.66 10.3928C138.342 9.16815 140.188 8.58246 142.033 8.58246C146.267 8.58246 148.112 10.4993 148.112 13.8537V26.4727H145.615V13.694Z"
          fill="#E23128" />
        <path
          d="M155.765 18.7522C155.928 21.7872 156.797 24.5559 160.868 24.5559C163.419 24.5559 164.993 24.2897 166.675 23.5975L166.73 25.7273C164.721 26.5792 162.496 26.7922 160.759 26.7922C154.734 26.7922 153.269 22.7456 153.323 17.6873C153.323 12.6291 154.788 8.58246 160.813 8.58246C165.644 8.58246 167.544 11.2447 167.49 14.2264C167.544 16.9419 166.187 18.8055 160.922 18.8055L155.765 18.7522ZM161.139 16.7289C164.179 16.7289 164.993 15.877 164.993 14.1732C165.047 12.5758 164.179 10.7123 160.759 10.7123C156.634 10.7123 155.874 13.6407 155.765 16.7822L161.139 16.7289Z"
          fill="#E23128" />
        <path
          d="M182.307 26.6857C181.819 26.739 181.385 26.7922 180.896 26.7922C177.911 26.9519 175.088 25.6208 174.98 22.2132V10.8187H171.397V9.75384L174.98 8.74219V3.95015L177.477 3.25797V8.84868H183.013V10.7655H177.477V22.0534C177.639 24.1832 178.779 24.7689 180.896 24.7689C181.385 24.7689 181.819 24.7157 182.307 24.7157V26.6857Z"
          fill="#E23128" />
      </svg>
    </a>
    <Dropdown title="Språk/language" loadJs={true} class="button__small-text" let:titleId>
      <ol class="alt-language" aria-labelledby={titleId}>
        {#each args.items as item}
          <li>
            <a href={item.url} class="forward-arrow-small">{item.title}</a>
          </li>
        {/each}
      </ol>
    </Dropdown>
    <Dropdown title={args.menu.title} class="full-menu" loadJs={!args.disableJs} let:titleId>
      <MenuItems
        itemsLeft={args.menu.items}
        itemsRight={args.menu.itemsRight}
        itemsBottom={args.menu.itemsBottom}
        {titleId} />
    </Dropdown>
  </header>
</Story>
