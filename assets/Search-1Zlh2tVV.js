import{S as O,i as U,s as j,t as B,g as E,a as F,f as G,c as J,m as K,d as P,h as Q}from"./index-D8riOviU.js";import{s as L,e as k,a as f,t as V,i as g,b as h,n as N,l as I,d as v,k as W,g as R,h as q}from"./lifecycle-CcifP0R7.js";import{L as X}from"./Label-BX4PxQ2B.js";import{c as H}from"./utils-DjM8Id44.js";function M(a){let e,i;return e=new X({props:{class:a[3],for:a[1],showOptionalText:!1,$$slots:{default:[Y]},$$scope:{ctx:a}}}),{c(){J(e.$$.fragment)},m(t,r){K(e,t,r),i=!0},p(t,r){const n={};r&8&&(n.class=t[3]),r&2&&(n.for=t[1]),r&131076&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){i||(B(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){P(e,t)}}}function Y(a){let e;return{c(){e=R(a[2])},m(i,t){g(i,e,t)},p(i,t){t&4&&q(e,i[2])},d(i){i&&v(e)}}}function z(a){let e,i;return{c(){e=k("div"),f(e,"id",i=`${a[1]}-hint`),f(e,"class","hint")},m(t,r){g(t,e,r),e.innerHTML=a[4]},p(t,r){r&16&&(e.innerHTML=t[4]),r&2&&i!==(i=`${t[1]}-hint`)&&f(e,"id",i)},d(t){t&&v(e)}}}function A(a){let e,i,t,r,n;return{c(){e=k("button"),i=k("span"),t=R(a[8]),f(i,"class","inclusively-hidden"),f(e,"type","reset"),f(e,"class","mt-button mt-button--search-clear"),f(e,"data-testid","search-clear")},m(m,y){g(m,e,y),h(e,i),h(i,t),r||(n=I(e,"click",a[15]),r=!0)},p(m,y){y&256&&q(t,m[8])},d(m){m&&v(e),r=!1,n()}}}function D(a){let e,i;return{c(){e=k("button"),i=R(a[5]),f(e,"id","search-button"),f(e,"type","submit"),f(e,"class","mt-button mt-button--primary icon--search-after-primary"),f(e,"aria-controls",a[7])},m(t,r){g(t,e,r),h(e,i)},p(t,r){r&32&&q(i,t[5]),r&128&&f(e,"aria-controls",t[7])},d(t){t&&v(e)}}}function Z(a){let e,i,t,r,n,m,y,p,w,C,_,b,T,S,u=a[2]&&M(a),o=a[4]&&z(a),d=a[0]&&A(a),c=a[5]&&D(a);return{c(){u&&u.c(),e=L(),o&&o.c(),i=L(),t=k("div"),r=k("div"),n=k("input"),w=L(),d&&d.c(),C=L(),c&&c.c(),f(n,"id",a[1]),f(n,"type","search"),f(n,"name",a[1]),f(n,"class",m="mt-input form-field "+a[9]),f(n,"aria-labelledby",y=!a[2]&&a[5]?"search-button":void 0),f(n,"aria-describedby",p=H(a[4]?a[1]:void 0)),f(n,"placeholder",a[6]),V(n,"hasButton",!!a[5]),f(r,"class","search-wrap-inner"),f(t,"class",_="search-wrap "+a[10])},m(s,l){u&&u.m(s,l),g(s,e,l),o&&o.m(s,l),g(s,i,l),g(s,t,l),h(t,r),h(r,n),a[13](n),N(n,a[0]),h(r,w),d&&d.m(r,null),h(t,C),c&&c.m(t,null),b=!0,T||(S=I(n,"input",a[14]),T=!0)},p(s,[l]){s[2]?u?(u.p(s,l),l&4&&B(u,1)):(u=M(s),u.c(),B(u,1),u.m(e.parentNode,e)):u&&(E(),F(u,1,1,()=>{u=null}),G()),s[4]?o?o.p(s,l):(o=z(s),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),(!b||l&2)&&f(n,"id",s[1]),(!b||l&2)&&f(n,"name",s[1]),(!b||l&512&&m!==(m="mt-input form-field "+s[9]))&&f(n,"class",m),(!b||l&36&&y!==(y=!s[2]&&s[5]?"search-button":void 0))&&f(n,"aria-labelledby",y),(!b||l&18&&p!==(p=H(s[4]?s[1]:void 0)))&&f(n,"aria-describedby",p),(!b||l&64)&&f(n,"placeholder",s[6]),l&1&&n.value!==s[0]&&N(n,s[0]),(!b||l&544)&&V(n,"hasButton",!!s[5]),s[0]?d?d.p(s,l):(d=A(s),d.c(),d.m(r,null)):d&&(d.d(1),d=null),s[5]?c?c.p(s,l):(c=D(s),c.c(),c.m(t,null)):c&&(c.d(1),c=null),(!b||l&1024&&_!==(_="search-wrap "+s[10]))&&f(t,"class",_)},i(s){b||(B(u),b=!0)},o(s){F(u),b=!1},d(s){s&&(v(e),v(i),v(t)),u&&u.d(s),o&&o.d(s),a[13](null),d&&d.d(),c&&c.d(),T=!1,S()}}}function x(a,e,i){let{searchString:t}=e,{name:r}=e,{shouldFocus:n=!1}=e,{label:m=void 0}=e,{labelClass:y=""}=e,{helpText:p=void 0}=e,{searchButtonText:w=void 0}=e,{placeholder:C=void 0}=e,{ariaControls:_=void 0}=e,{ariaRemoveTextLabel:b="Tøm"}=e,{inputClass:T=""}=e,S=!1,{class:u=""}=e,o;W(()=>{var l;!t&&!S&&document&&(i(0,t=(l=document==null?void 0:document.querySelector(`input[name="${r}"]`))==null?void 0:l.value),S=!0)});function d(l){Q[l?"unshift":"push"](()=>{o=l,i(11,o)})}function c(){t=this.value,i(0,t)}const s=()=>i(0,t="");return a.$$set=l=>{"searchString"in l&&i(0,t=l.searchString),"name"in l&&i(1,r=l.name),"shouldFocus"in l&&i(12,n=l.shouldFocus),"label"in l&&i(2,m=l.label),"labelClass"in l&&i(3,y=l.labelClass),"helpText"in l&&i(4,p=l.helpText),"searchButtonText"in l&&i(5,w=l.searchButtonText),"placeholder"in l&&i(6,C=l.placeholder),"ariaControls"in l&&i(7,_=l.ariaControls),"ariaRemoveTextLabel"in l&&i(8,b=l.ariaRemoveTextLabel),"inputClass"in l&&i(9,T=l.inputClass),"class"in l&&i(10,u=l.class)},a.$$.update=()=>{a.$$.dirty&6144&&n&&(o==null||o.focus())},[t,r,m,y,p,w,C,_,b,T,u,o,n,d,c,s]}class $ extends O{constructor(e){super(),U(this,e,x,Z,j,{searchString:0,name:1,shouldFocus:12,label:2,labelClass:3,helpText:4,searchButtonText:5,placeholder:6,ariaControls:7,ariaRemoveTextLabel:8,inputClass:9,class:10})}}$.__docgen={version:3,name:"Search.svelte",data:[{name:"searchString",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"name",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"shouldFocus",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"label",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"labelClass",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"helpText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"searchButtonText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"placeholder",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaControls",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaRemoveTextLabel",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Tøm"'},{name:"inputClass",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{$ as S};
