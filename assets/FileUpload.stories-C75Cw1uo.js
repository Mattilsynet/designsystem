import{d as se,h as g,w as ue,s as F,a as k,m as Z,t as q,p as me}from"./props-C0tvRuaH.js";import{p as ee,f as Q,t as v,a as te,s as u,g as r,d as W,b as X,c as m,n as pe,h as L}from"./runtime-h0AMGDom.js";import{a as fe}from"./actions-EVnswImp.js";import{d as ge,c as ce}from"./create-runtime-stories-BSZiRmpa.js";import{w as be}from"./utils-CMlWd0Pf.js";import{e as ye,i as he}from"./each-DBQXtrgh.js";import{h as xe}from"./html-CjI7j8Lz.js";import{s as o,c as Y}from"./attributes-Cx6y8_P7.js";import{t as B}from"./class-Dqk93oQ7.js";import{b as $}from"./this-B-g0KYFp.js";import{c as ve,f as ke}from"./utils-UxKBq1MU.js";import"./proj-CDaZOfWJ.js";/* empty css               */import"./index-BK-JItfK.js";import"./Alert-BGu8mIhH.js";import"./Address-iVfEmYsI.js";import"./Checkbox-CtYh6S0x.js";import"./CheckboxWithSubSets-BVGWh863.js";import"./Combobox-DEY3fsk3.js";import"./ExpandableInputList-BYx1A8H7.js";import"./Fieldset-BD61EESS.js";import"./ErrorSummary-DU0MDTeC.js";import{I as Te}from"./InputErrorMessage-Dd923iph.js";import{L as Ne}from"./Label-D8X8gfhz.js";import"./Select-CaUUbbFq.js";import"./RadioGroup-C8MY7J3a.js";import"./Search-BB_luxE-.js";import"./TextArea-sJP_eN9s.js";import"./TextInput-BqCUlEdm.js";import"./TextInputHorizontal-DLDnmpzi.js";import"./SearchResult-CrX_6Syf.js";import"./Breadcrumbs-DAAAnJLo.js";import"./ButtonSpinner-Be5seiJn.js";import"./CardArticle-DCXPdwe0.js";import"./ChapterMenu-BW-8KxPp.js";import"./ChapterNavigation-1lizL3j-.js";import"./DialogBox-9xbqpwpT.js";import"./Disclosure-eHDyJ933.js";import"./Dropdown-BFirrp-p.js";import"./FormSteps-FTiDeXIj.js";import"./HeadingLevel-CsLaZNJ0.js";import"./Link-CmtXbJqI.js";import"./Notice-SwjGZmv7.js";import"./Published-f7fbW3jP.js";import"./Pagination-BdIs81fS.js";import"./SummaryDetail-DNzTolJt.js";import"./Tags-Bsg0Ioyw.js";import"./ListOfDescriptionLists-HatRtsFR.js";import"./TableCol-B_9iqWgv.js";import"./Popups-BZ6Ala9T.js";import"./FactsQuestionsAnswers-CcnuCW3x.js";import"./CurrentIssues-A1KYxSlU.js";import"./HighlightedContentLink-Cenzmbxy.js";import"./MenuItems-CsfQ2TWL.js";import"./MenuPointsIcons-Dq327QFs.js";import"./Status-BWc7f4Sb.js";import"./index-D-8MO0q_.js";import"./index-DPS9-N-h.js";import"./hydration-C_mtSyjW.js";import"./index-Cvmj00a4.js";import"./input-Bhn6W10B.js";import"./universal-Cs0PP9_m.js";import"./index-client-B5MNzxnb.js";import"./count-characters-Cnk4sLIe.js";import"./lifecycle-DurhAeVF.js";import"./_commonjsHelpers-CqkleIqs.js";function _e(f,t){const p=f.target;t()(p.files,p)}var Ie=q('<div class="hint"><!></div>'),Le=(f,t,p)=>t(r(p)),Je=q('<li><span class="file-button__file-name"> </span> <button type="button" class="mt-button mt-button--search-clear file-button__file-remove"><span class="inclusively-hidden"> </span> <svg aria-hidden="true" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 0C4.47 0 0 4.47 0 10s4.47 10 10 10 10-4.47 10-10S15.53 0 10 0Zm5 13.59L13.59 15 10 11.41 6.41 15 5 13.59 8.59 10 5 6.41 6.41 5 10 8.59 13.59 5 15 6.41 11.41 10 15 13.59Z" fill="#464545"></path></svg></button></li>'),qe=q('<label class="mt-label mt-button mt-button--secondary"> <span role="status" aria-live="polite"></span></label> <ol class="mt-ol m-t-xxs list-unstyled file-button__file-list" aria-label="Vedlegg"></ol>',1),we=q('<!> <!> <!> <input type="hidden" class="mt-input"> <input type="hidden" class="mt-input"> <input type="file" class="mt-input form-field"> <!>',1);function T(f,t){ee(t,!0);let p=g(t,"loadJs",3,!1),N=g(t,"multiple",3,!1),e=g(t,"buttonText",3,"Legg til fil"),c=g(t,"value",15),w=g(t,"onChange",3,a=>{}),h=g(t,"fileName",15),_=g(t,"isLoading",3,!1),E=g(t,"uploadInProgressAriaLabel",3,"Laster opp filer"),x=X(void 0),b=X(void 0);function A(a){if(r(b)&&r(x)){const d=r(b).value.split(",");r(x).value="",c(S(c(),d,a)),r(b).value=d.filter(s=>s!==a).join(","),h(V(h(),a))}}function S(a,d,s){const P=d.indexOf(s);if(a!==void 0)return typeof a=="string"?void 0:a.filter((D,H)=>H!==P)}function V(a,d){if(!(typeof a=="string"||a===void 0))return a.filter(s=>s!==d)}var I=we(),C=Q(I);Ne(C,{get for(){return t.name},get isRequired(){return t.isRequired},get textOptional(){return t.textOptional},children:(a,d)=>{var s=ue();v(()=>F(s,t.label)),k(a,s)},$$slots:{default:!0}});var R=u(C,2);{var M=a=>{var d=Ie(),s=m(d);xe(s,()=>t.helpText),v(()=>o(d,"id",`${t.fileInputName}-hint`)),k(a,d)};Z(R,a=>{t.helpText&&a(M)})}var O=u(R,2);{var j=a=>{Te(a,{get message(){return t.error.message},get key(){return t.fileInputName},get hiddenErrorText(){return t.hiddenErrorText}})};Z(O,a=>{t.error&&a(j)})}var n=u(O,2);$(n,a=>W(x,a),()=>r(x));var y=u(n,2);$(y,a=>W(b,a),()=>r(b));var i=u(y,2);i.__change=[_e,w],v(()=>o(i,"aria-describedby",ve(t.name,t.error)));var ne=u(i,2);{var le=a=>{var d=qe(),s=Q(d),P=m(s),D=u(P),H=u(s,2);ye(H,21,()=>Array.from(h()??[]),he,(ie,U)=>{var z=Je(),G=m(z),re=m(G),K=u(G,2);K.__click=[Le,A,U];var oe=m(K),de=m(oe);v(()=>{F(re,r(U)),o(K,"data-testid",`remove-${r(U)}`),F(de,`Slett vedlegget: "${r(U)??""}"`)}),k(ie,z)}),v(()=>{o(s,"for",t.name),F(P,`${e()??""} `),o(D,"aria-label",_()?E():""),B(D,"spinner",_())}),k(a,d)};Z(ne,a=>{p()&&a(le)})}v(()=>{o(n,"name",t.name),Y(n,c()||""),o(n,"data-testid",t.name),o(y,"name",t.fileNameInputName),Y(y,h()||""),o(y,"data-testid",t.fileNameInputName),o(i,"id",t.name),o(i,"name",t.fileInputName),i.multiple=N(),o(i,"accept",t.accept),i.disabled=_(),o(i,"aria-invalid",!!t.error),o(i,"data-testid",t.fileInputName),o(i,"aria-required",t.isRequired||void 0),B(i,"error",t.error),B(i,"inclusively-hidden-initial",p())}),k(f,I),te()}se(["change","click"]);T.__docgen={data:[{name:"loadJs",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"name",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"error",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"ErrorDetail"},static:!1,readonly:!1},{name:"multiple",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"accept",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"buttonText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Legg til fil"'},{name:"isRequired",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"value",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"array",text:"string[]"}],text:"string | string[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"onChange",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(files: FileList, target: HTMLInputElement) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"label",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"fileInputName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"fileNameInputName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"helpText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"fileName",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"array",text:"string[]"}],text:"string | string[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"textOptional",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"hiddenErrorText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"isLoading",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"uploadInProgressAriaLabel",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Laster opp filer"'}],name:"FileUpload.svelte"};let l=me({});function J(f,t){if(!f)return;const p=ke(l[`filename-${t.id}`]);l[`filename-${t.id}`]=[...p,...Array.from(f).map(N=>N.name)]}const{Story:Ee,meta:Ae}=ge({title:"Components/Form/FileUpload",args:{label:"Legg til fil",helpText:"Hjelpetekst",buttonText:"Legg til fil",uploadInProgressAriaLabel:"Laster opp filer",hiddenErrorText:"Skjult feilmelding",textOptional:"Valgfritt",accept:"image/*",upload1:{name:"fileUpload1",isRequired:!1,multiple:!0,loadJs:!0},upload2:{name:"fileUpload2",isRequired:!0,multiple:!0,loadJs:!1},upload3:{name:"fileUpload3",isRequired:!0,multiple:!1,loadJs:!0},upload4:{name:"fileUpload4",isRequired:!0,multiple:!0,loadJs:!0},isLoading:!1,disableCss:!1,disableJs:!1},argTypes:{label:{control:"text"},disableCss:{control:"boolean"},disableJs:{control:"boolean"}}});var Ce=q('<div><h1 class="mt-h1">Filopplasting komponent</h1> <h2 class="mt-h2">Med JS</h2> <form method="get" class="mt-form form-layout" style="--gap: 0;"><!></form> <h2 class="mt-h2 m-t-m">Uten JS</h2> <form method="get" class="mt-form form-layout" style="--gap: 0;"><!></form> <h2 class="mt-h2 m-t-m">Kan kun velge ett bilde</h2> <form method="get" class="mt-form form-layout" style="--gap: 0;"><!></form> <h2 class="mt-h2 m-t-m">Under opplasting</h2> <form method="get" class="mt-form form-layout" style="--gap: 0;"><!></form> <h2 class="mt-h2 m-t-m">Under opplasting. Uten JS</h2> <form method="get" class="mt-form form-layout" style="--gap: 0;"><!></form></div>');function ae(f,t){ee(t,!0),Ee(f,{name:"Normal",children:(N,e=pe)=>{var c=Ce(),w=u(m(c),4),h=m(w),_=L(()=>!e().disableJs&&e().upload1.loadJs);T(h,{get name(){return e().upload1.name},get label(){return e().label},get helpText(){return e().helpText},get buttonText(){return e().buttonText},get fileInputName(){return`file-${e().upload1.name??""}`},get fileNameInputName(){return`filename-${e().upload1.name??""}`},get textOptional(){return e().textOptional},get hiddenErrorText(){return e().hiddenErrorText},get accept(){return e().accept},get isRequired(){return e().upload1.isRequired},get multiple(){return e().upload1.multiple},onChange:J,error:void 0,get isLoading(){return e().isLoading},get uploadInProgressAriaLabel(){return e().uploadInProgressAriaLabel},get loadJs(){return r(_)},get fileName(){return l["filename-"+e().upload1.name]},set fileName(n){l["filename-"+e().upload1.name]=n},get value(){return l[e().upload1.name]},set value(n){l[e().upload1.name]=n}});var E=u(w,4),x=m(E),b=L(()=>!e().disableJs&&e().upload2.loadJs);T(x,{get name(){return e().upload2.name},get label(){return e().label},get helpText(){return e().helpText},get buttonText(){return e().buttonText},get fileInputName(){return`file-${e().upload2.name??""}`},get fileNameInputName(){return`filename-${e().upload2.name??""}`},get textOptional(){return e().textOptional},get hiddenErrorText(){return e().hiddenErrorText},get accept(){return e().accept},get isRequired(){return e().upload2.isRequired},get multiple(){return e().upload2.multiple},onChange:J,error:void 0,get isLoading(){return e().isLoading},get uploadInProgressAriaLabel(){return e().uploadInProgressAriaLabel},get loadJs(){return r(b)},get fileName(){return l["filename-"+e().upload2.name]},set fileName(n){l["filename-"+e().upload2.name]=n},get value(){return l[e().upload2.name]},set value(n){l[e().upload2.name]=n}});var A=u(E,4),S=m(A),V=L(()=>!e().disableJs&&e().upload3.loadJs);T(S,{get name(){return e().upload3.name},get label(){return e().label},get helpText(){return e().helpText},get buttonText(){return e().buttonText},get fileInputName(){return`file-${e().upload3.name??""}`},get fileNameInputName(){return`filename-${e().upload3.name??""}`},get textOptional(){return e().textOptional},get hiddenErrorText(){return e().hiddenErrorText},get accept(){return e().accept},get isRequired(){return e().upload3.isRequired},get multiple(){return e().upload3.multiple},onChange:J,error:{message:"Eksempel på feilmelding"},get isLoading(){return e().isLoading},get uploadInProgressAriaLabel(){return e().uploadInProgressAriaLabel},get loadJs(){return r(V)},get fileName(){return l["filename-"+e().upload3.name]},set fileName(n){l["filename-"+e().upload3.name]=n},get value(){return l[e().upload3.name]},set value(n){l[e().upload3.name]=n}});var I=u(A,4),C=m(I),R=L(()=>!e().disableJs&&e().upload4.loadJs);T(C,{get name(){return e().upload4.name},get label(){return e().label},get helpText(){return e().helpText},get buttonText(){return e().buttonText},get fileInputName(){return`file-${e().upload4.name??""}`},get fileNameInputName(){return`filename-${e().upload4.name??""}`},get textOptional(){return e().textOptional},get hiddenErrorText(){return e().hiddenErrorText},get accept(){return e().accept},get isRequired(){return e().upload4.isRequired},get multiple(){return e().upload4.multiple},onChange:J,error:void 0,isLoading:!0,get uploadInProgressAriaLabel(){return e().uploadInProgressAriaLabel},get loadJs(){return r(R)},get fileName(){return l["filename-"+e().upload4.name]},set fileName(n){l["filename-"+e().upload4.name]=n},get value(){return l[e().upload4.name]},set value(n){l[e().upload4.name]=n}});var M=u(I,4),O=m(M),j=L(()=>!e().disableJs&&!e().upload4.loadJs);T(O,{get name(){return e().upload4.name},get label(){return e().label},get helpText(){return e().helpText},get buttonText(){return e().buttonText},get fileInputName(){return`file-${e().upload4.name??""}`},get fileNameInputName(){return`filename-${e().upload4.name??""}`},get textOptional(){return e().textOptional},get hiddenErrorText(){return e().hiddenErrorText},get accept(){return e().accept},get isRequired(){return e().upload4.isRequired},get multiple(){return e().upload4.multiple},onChange:J,error:void 0,isLoading:!0,get uploadInProgressAriaLabel(){return e().uploadInProgressAriaLabel},get loadJs(){return r(j)},get fileName(){return l["filename-"+e().upload4.name]},set fileName(n){l["filename-"+e().upload4.name]=n},get value(){return l[e().upload4.name]},set value(n){l[e().upload4.name]=n}}),fe(c,(n,y)=>{var i;return(i=be)==null?void 0:i(n,y)},()=>e().disableCss),k(N,c)},$$slots:{default:!0},parameters:{__svelteCsf:{rawCode:`<div use:wrapInShadowDom={args.disableCss}>
  <h1 class="mt-h1">Filopplasting komponent</h1>
  <h2 class="mt-h2">Med JS</h2>
  <form method="get" class="mt-form form-layout" style="--gap: 0;">
    <FileUpload
      name={args.upload1.name}
      label={args.label}
      helpText={args.helpText}
      buttonText={args.buttonText}
      fileInputName="file-{args.upload1.name}"
      fileNameInputName="filename-{args.upload1.name}"
      bind:fileName={values['filename-' + args.upload1.name]}
      textOptional={args.textOptional}
      hiddenErrorText={args.hiddenErrorText}
      accept={args.accept}
      isRequired={args.upload1.isRequired}
      multiple={args.upload1.multiple}
      bind:value={values[args.upload1.name]}
      onChange={handleChange}
      error={undefined}
      isLoading={args.isLoading}
      uploadInProgressAriaLabel={args.uploadInProgressAriaLabel}
      loadJs={!args.disableJs && args.upload1.loadJs} />
  </form>
  <h2 class="mt-h2 m-t-m">Uten JS</h2>
  <form method="get" class="mt-form form-layout" style="--gap: 0;">
    <FileUpload
      name={args.upload2.name}
      label={args.label}
      helpText={args.helpText}
      buttonText={args.buttonText}
      fileInputName="file-{args.upload2.name}"
      fileNameInputName="filename-{args.upload2.name}"
      bind:fileName={values['filename-' + args.upload2.name]}
      textOptional={args.textOptional}
      hiddenErrorText={args.hiddenErrorText}
      accept={args.accept}
      isRequired={args.upload2.isRequired}
      multiple={args.upload2.multiple}
      bind:value={values[args.upload2.name]}
      onChange={handleChange}
      error={undefined}
      isLoading={args.isLoading}
      uploadInProgressAriaLabel={args.uploadInProgressAriaLabel}
      loadJs={!args.disableJs && args.upload2.loadJs} />
  </form>
  <h2 class="mt-h2 m-t-m">Kan kun velge ett bilde</h2>
  <form method="get" class="mt-form form-layout" style="--gap: 0;">
    <FileUpload
      name={args.upload3.name}
      label={args.label}
      helpText={args.helpText}
      buttonText={args.buttonText}
      fileInputName="file-{args.upload3.name}"
      fileNameInputName="filename-{args.upload3.name}"
      bind:fileName={values['filename-' + args.upload3.name]}
      textOptional={args.textOptional}
      hiddenErrorText={args.hiddenErrorText}
      accept={args.accept}
      isRequired={args.upload3.isRequired}
      multiple={args.upload3.multiple}
      bind:value={values[args.upload3.name]}
      onChange={handleChange}
      error={{ message: 'Eksempel på feilmelding' }}
      isLoading={args.isLoading}
      uploadInProgressAriaLabel={args.uploadInProgressAriaLabel}
      loadJs={!args.disableJs && args.upload3.loadJs} />
  </form>
  <h2 class="mt-h2 m-t-m">Under opplasting</h2>
  <form method="get" class="mt-form form-layout" style="--gap: 0;">
    <FileUpload
      name={args.upload4.name}
      label={args.label}
      helpText={args.helpText}
      buttonText={args.buttonText}
      fileInputName="file-{args.upload4.name}"
      fileNameInputName="filename-{args.upload4.name}"
      bind:fileName={values['filename-' + args.upload4.name]}
      textOptional={args.textOptional}
      hiddenErrorText={args.hiddenErrorText}
      accept={args.accept}
      isRequired={args.upload4.isRequired}
      multiple={args.upload4.multiple}
      bind:value={values[args.upload4.name]}
      onChange={handleChange}
      error={undefined}
      isLoading={true}
      uploadInProgressAriaLabel={args.uploadInProgressAriaLabel}
      loadJs={!args.disableJs && args.upload4.loadJs} />
  </form>
  <h2 class="mt-h2 m-t-m">Under opplasting. Uten JS</h2>
  <form method="get" class="mt-form form-layout" style="--gap: 0;">
    <FileUpload
      name={args.upload4.name}
      label={args.label}
      helpText={args.helpText}
      buttonText={args.buttonText}
      fileInputName="file-{args.upload4.name}"
      fileNameInputName="filename-{args.upload4.name}"
      bind:fileName={values['filename-' + args.upload4.name]}
      textOptional={args.textOptional}
      hiddenErrorText={args.hiddenErrorText}
      accept={args.accept}
      isRequired={args.upload4.isRequired}
      multiple={args.upload4.multiple}
      bind:value={values[args.upload4.name]}
      onChange={handleChange}
      error={undefined}
      isLoading={true}
      uploadInProgressAriaLabel={args.uploadInProgressAriaLabel}
      loadJs={!args.disableJs && !args.upload4.loadJs} />
  </form>
</div>`}}}),te()}ae.__docgen={version:3,name:"FileUpload.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const Re=ce(ae,Ae),Bt=["Normal"],zt=Re.Normal;export{zt as Normal,Bt as __namedExportsOrder,Ae as default};
