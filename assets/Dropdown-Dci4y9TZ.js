import{S as P,i as Q,s as X,g as C,a as v,f as H,t as p,o as Y,p as A,u as S,q,v as z,b as M,e as J,w as Z,y as x,z as $,r as ee}from"./index-D8riOviU.js";import{e as y,a as _,t as G,i as k,d as b,o as te,s as F,f as ie,l as w,b as O}from"./lifecycle-CcifP0R7.js";import{s as D}from"./index-DTCOkSMf.js";import{c as le}from"./toggle-machine-BRWFjtir.js";import{u as ne}from"./useMachine-BoQ-JPCB.js";function se(i,e){const n=s=>{s&&s.target&&!i.contains(s.target)&&s.target.id!==e&&i.dispatchEvent(new CustomEvent("clickOutside"))};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}function ae(i,e){function n(s){s&&s.target&&!i.contains(document.activeElement)&&e()}return document.addEventListener("focusin",n),{destroy:()=>{document.removeEventListener("focusin",n)}}}const oe=i=>({isOpen:i&32}),N=i=>({isOpen:i[5]}),ue=i=>({}),V=i=>({loadJs:!1});function re(i){let e,n=(i[6]?i[1]:i[0])+"",s,c,u,o,d,r,t=i[5]&&W(i);return{c(){e=y("button"),c=F(),t&&t.c(),u=ie(),_(e,"id",i[2]),_(e,"class",s="mt-button mt-button--link "+i[3]),_(e,"aria-haspopup","true"),_(e,"aria-expanded",i[5]),_(e,"aria-controls",i[8])},m(l,a){k(l,e,a),e.innerHTML=n,k(l,c,a),t&&t.m(l,a),k(l,u,a),o=!0,d||(r=w(e,"click",i[16]),d=!0)},p(l,a){(!o||a&67)&&n!==(n=(l[6]?l[1]:l[0])+"")&&(e.innerHTML=n),(!o||a&4)&&_(e,"id",l[2]),(!o||a&8&&s!==(s="mt-button mt-button--link "+l[3]))&&_(e,"class",s),(!o||a&32)&&_(e,"aria-expanded",l[5]),l[5]?t?(t.p(l,a),a&32&&p(t,1)):(t=W(l),t.c(),p(t,1),t.m(u.parentNode,u)):t&&(C(),v(t,1,1,()=>{t=null}),H())},i(l){o||(p(t),o=!0)},o(l){v(t),o=!1},d(l){l&&(b(e),b(c),b(u)),t&&t.d(l),d=!1,r()}}}function de(i){let e,n,s,c,u,o;const d=i[15].default,r=A(d,i,i[14],V);return{c(){e=y("details"),n=y("summary"),c=F(),u=y("div"),r&&r.c(),_(n,"class",s="mt-summary mt-button mt-button--link "+i[3]),_(u,"id",i[8]),_(u,"class","dropdown-content"),_(e,"class","mt-details")},m(t,l){k(t,e,l),O(e,n),n.innerHTML=i[0],O(e,c),O(e,u),r&&r.m(u,null),o=!0},p(t,l){(!o||l&1)&&(n.innerHTML=t[0]),(!o||l&8&&s!==(s="mt-summary mt-button mt-button--link "+t[3]))&&_(n,"class",s),r&&r.p&&(!o||l&16384)&&S(r,d,t,t[14],o?z(d,t[14],l,ue):q(t[14]),V)},i(t){o||(p(r,t),o=!0)},o(t){v(r,t),o=!1},d(t){t&&b(e),r&&r.d(t)}}}function W(i){let e,n,s,c,u,o,d,r;const t=i[15].default,l=A(t,i,i[14],N);return{c(){e=y("div"),l&&l.c(),_(e,"class","dropdown-content"),_(e,"id",i[8])},m(a,m){k(a,e,m),l&&l.m(e,null),o=!0,d||(r=[M(n=ae.call(null,e,i[17])),M(s=se.call(null,e,i[2])),w(e,"click",i[11]),w(e,"clickOutside",i[18])],d=!0)},p(a,m){l&&l.p&&(!o||m&16416)&&S(l,t,a,a[14],o?z(t,a[14],m,oe):q(a[14]),N),n&&J(n.update)&&m&32&&n.update.call(null,a[17]),s&&J(s.update)&&m&4&&s.update.call(null,a[2])},i(a){o||(p(l,a),a&&Z(()=>{o&&(u&&u.end(1),c=x(e,D,{duration:650}),c.start())}),o=!0)},o(a){v(l,a),c&&c.invalidate(),a&&(u=$(e,D,{duration:500})),o=!1},d(a){a&&b(e),l&&l.d(a),a&&u&&u.end(),d=!1,ee(r)}}}function ce(i){let e,n,s,c,u;const o=[de,re],d=[];function r(t,l){return t[7]?0:1}return n=r(i),s=d[n]=o[n](i),{c(){e=y("div"),s.c(),_(e,"class",c="dropdown "+i[4]+" "+(i[7]?"on-server":"")),G(e,"visible",i[5]||i[7])},m(t,l){k(t,e,l),d[n].m(e,null),u=!0},p(t,[l]){let a=n;n=r(t),n===a?d[n].p(t,l):(C(),v(d[a],1,1,()=>{d[a]=null}),H(),s=d[n],s?s.p(t,l):(s=d[n]=o[n](t),s.c()),p(s,1),s.m(e,null)),(!u||l&144&&c!==(c="dropdown "+t[4]+" "+(t[7]?"on-server":"")))&&_(e,"class",c),(!u||l&176)&&G(e,"visible",t[5]||t[7])},i(t){u||(p(s),u=!0)},o(t){v(s),u=!1},d(t){t&&b(e),d[n].d()}}}let fe=0;const _e="A";function me(i,e,n){let s,c,u,o,{$$slots:d={},$$scope:r}=e,{title:t=""}=e,{titleWhenOpen:l=""}=e;const a=`ui-dropdown-${fe++}`;let{loadJs:m=!1}=e,{titleId:h=`${a}-title`}=e,{icon:L=""}=e,{class:E=""}=e;const K=le("dropdown"),{state:T,send:g}=ne(K);Y(i,T,f=>n(13,o=f));function R(f){var I;s&&((I=f.target)==null?void 0:I.tagName)===_e&&g("TOGGLE")}m&&te(()=>g("MOUNTED"));const U=()=>g("TOGGLE"),j=()=>n(5,s=!1),B=()=>s&&g("TOGGLE");return i.$$set=f=>{"title"in f&&n(0,t=f.title),"titleWhenOpen"in f&&n(1,l=f.titleWhenOpen),"loadJs"in f&&n(12,m=f.loadJs),"titleId"in f&&n(2,h=f.titleId),"icon"in f&&n(3,L=f.icon),"class"in f&&n(4,E=f.class),"$$scope"in f&&n(14,r=f.$$scope)},i.$$.update=()=>{i.$$.dirty&8192&&n(5,s=o.context.isOpen),i.$$.dirty&8192&&n(7,c=o.value==="serverRendered"),i.$$.dirty&34&&n(6,u=l&&s)},[t,l,h,L,E,s,u,c,a,T,g,R,m,o,r,d,U,j,B]}class pe extends P{constructor(e){super(),Q(this,e,me,ce,X,{title:0,titleWhenOpen:1,loadJs:12,titleId:2,icon:3,class:4})}}pe.__docgen={version:3,name:"Dropdown.svelte",data:[{name:"title",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"titleWhenOpen",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"loadJs",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"titleId",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"icon",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default",params:[{name:"loadJs",type:{kind:"type",text:"*",type:"any"}}],parameters:[{name:"loadJs",type:{kind:"type",text:"*",type:"any"}}]}],refs:[]};export{pe as D};
