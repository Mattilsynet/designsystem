import{_ as b,k,q as u,$ as i,v as t}from"./runtime-h0AMGDom.js";import{x as h,y}from"./props-C0tvRuaH.js";function A(e,l,a=l){var f=b();h(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=n(e)?d(o):o,a(o),f&&o!==(o=l())){var c=e.selectionStart,s=e.selectionEnd;e.value=o??"",s!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(s,e.value.length))}}),k(l)==null&&e.value&&a(n(e)?d(e.value):e.value),u(()=>{var r=l();n(e)&&r===d(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const _=new Set;function E(e,l,a,f,r=f){var o=a.getAttribute("type")==="checkbox",c=e;if(l!==null)for(var s of l)c=c[s]??(c[s]=[]);c.push(a),h(a,"change",()=>{var v=a.__value;o&&(v=S(c,v,a.checked)),r(v)},()=>r(o?[]:null)),u(()=>{var v=f();o?(v=v||[],a.checked=v.includes(a.__value)):a.checked=y(a.__value,v)}),i(()=>{var v=c.indexOf(a);v!==-1&&c.splice(v,1)}),_.has(c)||(_.add(c),t(()=>{c.sort((v,m)=>v.compareDocumentPosition(m)===4?-1:1),_.delete(c)})),t(()=>{})}function x(e,l,a=l){h(e,"change",f=>{var r=f?e.defaultChecked:e.checked;a(r)}),k(l)==null&&a(e.checked),u(()=>{var f=l();e.checked=!!f})}function S(e,l,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(l),Array.from(f)}function n(e){var l=e.type;return l==="number"||l==="range"}function d(e){return e===""?null:+e}export{E as a,A as b,x as c};
