import{S as M,i as R,s as S,n as y,o as A}from"./index-D8riOviU.js";import{e as d,a as c,t as h,i as m,b as f,d as b,c as O,o as J,s as P,g as k,h as x,l as C}from"./lifecycle-CcifP0R7.js";import{e as v}from"./each-Dzkb-YsG.js";import{c as G,u as N}from"./useMachine-BoQ-JPCB.js";function L(n,e,s){const r=n.slice();return r[14]=e[s],r[16]=s,r}function F(n){let e,s=n[14].text+"",r;return{c(){e=d("span"),r=k(s),c(e,"class","last-breadcrumb")},m(l,a){m(l,e,a),f(e,r)},p(l,a){a&2&&s!==(s=l[14].text+"")&&x(r,s)},d(l){l&&b(e)}}}function H(n){let e,s=n[14].text+"",r;return{c(){e=d("a"),c(e,"class","mt-link"),c(e,"href",r=n[14].url),c(e,"rel","external")},m(l,a){m(l,e,a),e.innerHTML=s},p(l,a){a&2&&s!==(s=l[14].text+"")&&(e.innerHTML=s),a&2&&r!==(r=l[14].url)&&c(e,"href",r)},d(l){l&&b(e)}}}function U(n){let e,s,r,l;return{c(){e=d("button"),s=k("..."),c(e,"type","button"),c(e,"aria-expanded","false"),c(e,"aria-label",n[7]),c(e,"class","mt-button mt-button--link")},m(a,t){m(a,e,t),f(e,s),r||(l=C(e,"click",n[11]),r=!0)},p:y,d(a){a&&b(e),r=!1,l()}}}function j(n){let e,s,r;return{c(){e=d("a"),s=k(n[8]),c(e,"class","mt-link"),c(e,"href",r=n[14].url),c(e,"rel","external")},m(l,a){m(l,e,a),f(e,s)},p(l,a){a&2&&r!==(r=l[14].url)&&c(e,"href",r)},d(l){l&&b(e)}}}function E(n){let e,s;function r(t,o){return t[16]===0?j:t[14]===t[3]?U:t[16]+1<t[1].context.breadcrumbsItems.length?H:F}let l=r(n),a=l(n);return{c(){e=d("li"),a.c(),s=P(),h(e,"ellipsis",!n[2]&&n[16]+1>2)},m(t,o){m(t,e,o),a.m(e,null),f(e,s)},p(t,o){l===(l=r(t))&&a?a.p(t,o):(a.d(1),a=l(t),a&&(a.c(),a.m(e,s))),o&4&&h(e,"ellipsis",!t[2]&&t[16]+1>2)},d(t){t&&b(e),a.d()}}}function D(n){let e,s,r,l=v(n[1].context.breadcrumbsItems),a=[];for(let t=0;t<l.length;t+=1)a[t]=E(L(n,l,t));return{c(){e=d("nav"),s=d("ol");for(let t=0;t<a.length;t+=1)a[t].c();c(s,"class","mt-ol"),h(s,"expanded",n[2]),c(e,"class",r="breadcrumbs "+n[0]),c(e,"aria-label",n[6])},m(t,o){m(t,e,o),f(e,s);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(s,null)},p(t,[o]){if(o&430){l=v(t[1].context.breadcrumbsItems);let i;for(i=0;i<l.length;i+=1){const p=L(t,l,i);a[i]?a[i].p(p,o):(a[i]=E(p),a[i].c(),a[i].m(s,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=l.length}o&4&&h(s,"expanded",t[2]),o&1&&r!==(r="breadcrumbs "+t[0])&&c(e,"class",r)},i:y,o:y,d(t){t&&b(e),O(a,t)}}}const V=3;function q(n,e,s){let r,l;const a=Symbol();let{breadcrumbs:t={items:[]}}=e,{loadJs:o=!0}=e,{class:i=""}=e;const p=G({predictableActionArguments:!0,id:"breadcrumbs",initial:"serverRendered",context:{breadcrumbsItems:[]},states:{serverRendered:{entry:"expandBreadcrumbs",on:{MOUNTED:[{target:"partial",cond:"showPartial"},{target:"full"}]}},partial:{entry:"prepareCollapsedBreadcrumbs",on:{TOGGLE:"full",RESET:"reset"}},full:{entry:"expandBreadcrumbs",on:{RESET:"reset"}},reset:{always:[{target:"partial",cond:"showPartial"},{target:"full"}]}}},{actions:{prepareCollapsedBreadcrumbs:u=>{u.breadcrumbsItems=[t.items[0],a,t.items[t.items.length-2],t.items[t.items.length-1]]},expandBreadcrumbs:u=>{u.breadcrumbsItems=t.items}},guards:{showPartial:()=>t.items.length>V}}),{state:g,send:_}=N(p);A(n,g,u=>s(1,l=u));let T=t.ariaLabel??"brÃ¸dsmulesti",B=t.showAllAriaLabel??"vis mer",w=t.homeLabel??"Hjem";o&&J(()=>_("MOUNTED"));const I=()=>_("TOGGLE");return n.$$set=u=>{"breadcrumbs"in u&&s(9,t=u.breadcrumbs),"loadJs"in u&&s(10,o=u.loadJs),"class"in u&&s(0,i=u.class)},n.$$.update=()=>{n.$$.dirty&2&&s(2,r=l.value!=="partial"),n.$$.dirty&2&&l.value,n.$$.dirty&512&&_({type:"RESET"})},[i,l,r,a,g,_,T,B,w,t,o,I]}class z extends M{constructor(e){super(),R(this,e,q,D,S,{breadcrumbs:9,loadJs:10,class:0})}}z.__docgen={version:3,name:"Breadcrumbs.svelte",data:[{name:"breadcrumbs",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Breadcrumbs"},static:!1,readonly:!1,defaultValue:"{ items: [] }"},{name:"loadJs",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{z as B};
