import{d as P,h as s,m as p,s as C,a as b,t as m,b as Q}from"./props-C0tvRuaH.js";import{p as U,u as W,Z as X,g as n,d as Y,t as r,a as $,b as ee,c as o,s as c}from"./runtime-h0AMGDom.js";import{e as te}from"./each-DBQXtrgh.js";import{h as R}from"./html-CjI7j8Lz.js";import{s as d,b as ae,c as ie}from"./attributes-Cx6y8_P7.js";import{t as le,s as V}from"./class-Dqk93oQ7.js";import{I as ne}from"./InputErrorMessage-Dd923iph.js";import{f as g,c as D,t as M}from"./utils-UxKBq1MU.js";function se(x,e,l){const u=x.target;e()(u);const v=u.value;u.checked?l([...g(l()),v]):l(g(l()).filter(h=>h!==v))}var re=m('<span class="tag info tag-text"> </span>'),de=m('<div class="hint"><!></div>'),oe=m('<div class="hint"><!></div>'),ye=m('<div class="form-control"><input type="checkbox" class="mt-input input__control"> <label> </label> <!></div>'),ce=m("<fieldset><legend> <!></legend> <!> <!> <!></fieldset>");function ue(x,e){U(e,!0);let l=s(e,"value",15),u=s(e,"options",19,()=>[]),v=s(e,"textOptional",3,"Valgfritt"),h=s(e,"showOptionalText",3,!0),_=s(e,"theme",3,"checkbox"),j=s(e,"class",3,""),z=s(e,"legendClass",3,""),H=s(e,"onChange",3,()=>{}),O=ee(!1);W(()=>{X().then(()=>{g(l()).length===0&&!n(O)&&document&&(l(Array.from(document==null?void 0:document.querySelectorAll(`input[name="${e.name}"]:checked`)).map(t=>t.value)),Y(O,!0))})});var f=ce();r(()=>d(f,"aria-describedby",D(e.helpText?e.name:void 0,e.error)));var w=o(f),q=o(w),K=c(q);{var L=t=>{var a=re(),y=o(a);r(()=>C(y,v())),b(t,a)};p(K,t=>{!e.isRequired&&h()&&t(L)})}var E=c(w,2);{var N=t=>{var a=de(),y=o(a);R(y,()=>e.helpText),b(t,a)};p(E,t=>{e.helpText&&t(N)})}var I=c(E,2);{var S=t=>{ne(t,Q(()=>e.error,{get hiddenErrorText(){return e.hiddenErrorText}}))};p(I,t=>{e.error&&t(S)})}var Z=c(I,2);te(Z,17,u,t=>t.value,(t,a)=>{var y=ye(),i=o(y);r(()=>d(i,"id",`${e.name}-${M(n(a).value)}`)),r(()=>ae(i,g(l()).includes(n(a).value))),i.__change=[se,H,l],r(()=>d(i,"aria-describedby",D(e.helpText?e.name:void 0,e.error)));var k=c(i,2);r(()=>d(k,"for",`${e.name}-${M(n(a).value)}`));var B=o(k),F=c(k,2);{var G=T=>{var A=oe(),J=o(A);R(J,()=>n(a).helpText),b(T,A)};p(F,T=>{n(a).helpText&&T(G)})}r(()=>{d(i,"name",e.name),ie(i,n(a).value),i.disabled=n(a).disabled,d(i,"aria-required",e.isRequired),d(i,"aria-invalid",!!e.error),le(i,"error",e.error),V(k,`mt-label ${(_()==="button"?"mt-button mt-button--secondary":"")??""}`),C(B,n(a).text)}),b(t,y)}),r(()=>{d(f,"id",e.name),V(f,`mt-fieldset form-fieldset ${(_()==="checkbox"?"checkbox":"")??""} ${(_()==="button"?"mt-button-checkbox":"")??""} ${j()??""}`),V(w,`mt-legend form-legend ${z()??""}`),C(q,`${e.label??""} `)}),b(x,f),$()}P(["change"]);ue.__docgen={data:[{name:"value",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"string[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"name",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"label",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"error",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"ErrorDetail"},static:!1,readonly:!1},{name:"helpText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"options",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"CheckboxOption[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"isRequired",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"textOptional",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Valgfritt"'},{name:"showOptionalText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"hiddenErrorText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"theme",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"checkbox",text:'"checkbox"'},{kind:"const",type:"string",value:"button",text:'"button"'}],text:'"checkbox" | "button"'},static:!1,readonly:!1,defaultValue:'"checkbox"'},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"legendClass",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"onChange",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(element: HTMLInputElement) => void"},static:!1,readonly:!1,defaultValue:"function"}],name:"Checkbox.svelte"};export{ue as C};
