import{d as Q,h as o,m as L,a as v,t as k,e as N}from"./props-C0tvRuaH.js";import{p as R,d as U,g as b,t as x,a as X,b as Y,c as r,s as A,n as C,f as Z,h as $}from"./runtime-h0AMGDom.js";import{h as W}from"./html-CjI7j8Lz.js";import{s as S}from"./create-runtime-stories-BSZiRmpa.js";import{a as T}from"./actions-EVnswImp.js";import{s as f}from"./attributes-Cx6y8_P7.js";import{s as I,t as tt}from"./class-Dqk93oQ7.js";import{t as F,s as G}from"./index-Cvmj00a4.js";import{o as et}from"./index-client-B5MNzxnb.js";import"./proj-CDaZOfWJ.js";function E(s,t){const i=e=>{e&&e.target&&!s.contains(e.target)&&e.target.id!==t&&s.dispatchEvent(new CustomEvent("clickOutside"))};return document.addEventListener("click",i,!0),{destroy(){document.removeEventListener("click",i,!0)}}}function V(s,t){function i(e){e&&e.target&&!s.contains(document.activeElement)&&e.target.id!==t&&s.dispatchEvent(new CustomEvent("focusOutside"))}return document.addEventListener("focusin",i),{destroy:()=>{document.removeEventListener("focusin",i)}}}let it=0;function at(s,t,i){var e;t()&&((e=s.target)==null?void 0:e.tagName)===i&&t(!t())}function nt(s,t){t(!t())}var st=k('<details class="mt-details"><summary><!></summary> <div class="dropdown-content"><!></div></details>'),lt=k('<div class="dropdown-content"><!></div>'),ot=k('<button aria-haspopup="true"><!></button> <!>',1),dt=k("<div><!></div>");function rt(s,t){R(t,!0);const i=`ui-dropdown-${it++}`;let e=o(t,"title",3,""),D=o(t,"titleWhenOpen",3,""),K=o(t,"loadJs",3,!1),J=o(t,"icon",3,""),a=o(t,"isOpen",15,!0),c=o(t,"titleId",19,()=>`${i}-title`),M=o(t,"class",3,"");const j="A";let m=Y(!0),q=$(()=>D()&&a());et(()=>{K()&&(a(!1),U(m,!1))});var p=dt(),z=r(p);{var B=d=>{var u=st(),n=r(u),g=r(n);W(g,e);var y=A(n,2);f(y,"id",i);var _=r(y);S(_,()=>t.children??C,()=>({loadJs:!1,isOpen:a(),titleId:c()})),x(()=>I(n,`mt-summary mt-button mt-button--link ${J()??""}`)),v(d,u)},H=d=>{var u=ot(),n=Z(u);f(n,"aria-controls",i),n.__click=[nt,a];var g=r(n);W(g,()=>b(q)?D():e());var y=A(n,2);{var _=h=>{var l=lt();f(l,"id",i),l.__click=[at,a,j];var P=r(l);S(P,()=>t.children??C,()=>({isOpen:a(),titleId:c()})),T(l,(w,O)=>V==null?void 0:V(w,O),c),T(l,(w,O)=>E==null?void 0:E(w,O),c),N("clickOutside",l,()=>a(!1)),N("focusOutside",l,()=>a(!1)),F(1,l,()=>G,()=>({duration:650})),F(2,l,()=>G,()=>({duration:500})),v(h,l)};L(y,h=>{a()&&h(_)})}x(()=>{f(n,"id",c()),I(n,`mt-button mt-button--link ${J()??""}`),f(n,"aria-expanded",a())}),v(d,u)};L(z,d=>{b(m)?d(B):d(H,!1)})}x(()=>{I(p,`dropdown ${M()??""} ${(b(m)?"on-server":"")??""}`),tt(p,"visible",a()||b(m))}),v(s,p),X()}Q(["click"]);rt.__docgen={data:[{name:"title",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"titleWhenOpen",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"loadJs",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"icon",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"isOpen",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"..."},{name:"titleId",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[{ isOpen?: boolean | undefined; loadJs?: boolean | undefined; titleId?: string | undefined; }]>"},static:!1,readonly:!1}],name:"Dropdown.svelte"};export{rt as D};
