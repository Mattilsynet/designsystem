import{a as w}from"./chunk-D5ZWXAHU-CGElDDNX.js";import{o as _}from"./index-client-B5MNzxnb.js";import{a1 as E,a2 as C}from"./runtime-h0AMGDom.js";import"./v4-CQkTLCs1.js";var N=Object.defineProperty,R=(t,a)=>{for(var e in a)N(t,e,{get:a[e],enumerable:!0})},D={};R(D,{decorators:()=>z});function F(t){E("after-navigate-args",t)}function v(t){return[{subscribe(a){let e=C(t);return a(e),()=>{}}},a=>{E(t,a)}]}var[G,H]=v("page-ctx"),[I,M]=v("navigating-ctx"),[S,T]=v("updated-ctx");S.check=()=>{};var j=t=>typeof t=="function"?{callback:t,asRegex:!1}:t,O=(t,a)=>{var f,d,u,m,x;let e=((f=a.parameters)==null?void 0:f.sveltekit_experimental)??{};return H((d=e==null?void 0:e.stores)==null?void 0:d.page),M((u=e==null?void 0:e.stores)==null?void 0:u.navigating),T((m=e==null?void 0:e.stores)==null?void 0:m.updated),F((x=e==null?void 0:e.navigation)==null?void 0:x.afterNavigate),_(()=>{let L=o=>{let c=o.composedPath().findLast(n=>n instanceof HTMLElement&&n.tagName==="A");if(c&&c instanceof HTMLAnchorElement){let n=c.getAttribute("href");if(!n)return;o.preventDefault();let g=()=>w("navigate")(n,o);if(!e.hrefs){g();return}let r=!0;Object.entries(e.hrefs).forEach(([i,l])=>{let{callback:s,asRegex:p}=j(l);(p?new RegExp(i).test(n):n===i)&&(r=!1,s==null||s(n,o))}),r&&g()}};function h(o,c,n){let g=[];return c.forEach(r=>{var l;let i=((l=e[o])==null?void 0:l[r])&&e[o][r]instanceof Function;if(i||n){let s=({detail:k=[]})=>{let y=Array.isArray(k)?k:[];(i?e[o][r]:w(r))(...y)},p=`storybook:${r}`;g.push({eventType:p,listener:s}),window.addEventListener(p,s)}}),()=>{g.forEach(({eventType:r,listener:i})=>{window.removeEventListener(r,i)})}}let A=h("navigation",["goto","invalidate","invalidateAll","pushState","replaceState"],!0),b=h("forms",["enhance"]);return window.addEventListener("click",L),()=>{window.removeEventListener("click",L),A(),b()}}),t()},z=[O];export{z as decorators};
